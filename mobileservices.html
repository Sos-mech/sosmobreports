<!DOCTYPE html>
<html lang="en-GB">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SOS MECHANICS | 24/7 Mobile Mechanic Medway</title>
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;700;800&display=swap" rel="stylesheet">
<style>
    :root { --neon:#CCFF00; }
    body { font-family:'Plus Jakarta Sans',sans-serif; background:#06040d; color:#fff; overflow-x:hidden; scroll-behavior:smooth; }
    .neon-lime { color:var(--neon); text-shadow:0 0 20px rgba(204,255,0,0.4); }
    .glass { background:rgba(255,255,255,0.03); backdrop-filter:blur(15px); border:1px solid rgba(255,255,255,0.1); }
    .btn-neon { background:var(--neon); color:#000; font-weight:800; transition:all 0.3s; }
    .btn-neon:hover { transform:scale(1.05); box-shadow:0 0 20px rgba(204,255,0,0.6); }
    #cart-slide { position:fixed; right:-400px; top:0; width:350px; height:100%; background:#0a0812; border-left:1px solid rgba(255,255,255,0.1); z-index:2000; transition:right 0.4s cubic-bezier(0.4, 0, 0.2, 1); }
    #cart-slide.open { right:0; }
    .cart-badge { background:var(--neon); color:#000; padding:2px 6px; border-radius:50%; font-size:10px; position:absolute; top:-5px; right:-10px; }
    .vehicle-btn { border:1px solid rgba(255,255,255,0.1); padding:8px; border-radius:8px; font-size:11px; cursor:pointer; flex:1; text-align:center; transition:0.3s; }
    .vehicle-btn.active { background:var(--neon); color:#000; border-color:var(--neon); font-weight:bold; }
</style>
</head>
<body>

<!-- Top Navigation -->
<nav class="fixed top-0 w-full z-[1000] bg-black/80 backdrop-blur-md border-b border-white/5">
  <div class="max-w-7xl mx-auto flex justify-between items-center p-4">
    <div class="text-xl font-black italic uppercase tracking-tighter">SOS<span class="neon-lime">MECHANICS</span></div>
    <div class="flex items-center gap-6">
      <a href="#services" class="uppercase text-xs font-bold hover:neon-lime transition-colors">Services</a>
      <button id="cart-btn-nav" class="relative uppercase text-xs font-bold neon-lime">
        Cart <span id="cart-count-badge" class="cart-badge">0</span>
      </button>
    </div>
  </div>
</nav>

<!-- Hero Section -->
<header class="min-h-screen flex flex-col items-center justify-center text-center p-6 pt-24">
  <div class="inline-block px-4 py-1 border border-[#CCFF00]/30 rounded-full text-[#CCFF00] text-[10px] uppercase font-bold tracking-widest mb-4">Medway Response Unit Active</div>
  <h1 class="text-6xl lg:text-[7.5rem] font-black uppercase italic leading-[0.85] mb-8 tracking-tighter">Roadside <br><span class="neon-lime">Evolution</span></h1>
  
  <!-- Postcode Checker -->
  <div class="glass p-2 rounded-2xl mb-8 flex flex-col sm:flex-row gap-2 max-w-md w-full">
    <input type="text" id="postcode-input" placeholder="Enter Medway Postcode (e.g. ME1)" class="bg-transparent px-4 py-3 outline-none text-sm flex-1 uppercase">
    <button onclick="checkArea()" class="btn-neon px-6 py-3 rounded-xl text-xs uppercase">Check Coverage</button>
  </div>
  <p id="area-status" class="text-sm font-bold mb-8 h-4"></p>

  <div class="flex gap-4">
    <a href="https://wa.me/07405937104" class="btn-neon px-10 py-4 rounded-2xl text-sm uppercase tracking-wider">Call Dispatch</a>
    <a href="#services" class="glass px-10 py-4 rounded-2xl font-bold text-sm uppercase tracking-wider border border-white/10">Pricing</a>
  </div>
</header>

<!-- Services Section -->
<section id="services" class="max-w-7xl mx-auto px-6 py-20">
    <div class="mb-12">
        <h2 class="text-4xl font-black uppercase italic">Fixed Rate <span class="neon-lime">Services</span></h2>
        <p class="text-white/40">Select your vehicle type in the cart for accurate pricing.</p>
    </div>

    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
        <!-- Service Card Template -->
        <div class="glass p-6 rounded-2xl border-l-2 border-[#CCFF00]/30 hover:border-[#CCFF00] transition-all group">
            <h3 class="text-lg font-black uppercase mb-4 neon-lime">Diagnostics</h3>
            <div class="space-y-4">
                <div class="flex justify-between items-center group-hover:translate-x-1 transition-transform">
                    <span class="text-sm opacity-80">Dealer ECU Scan</span>
                    <button class="add-btn btn-neon w-8 h-8 rounded-lg" data-name="ECU Scan" data-price="50">+</button>
                </div>
                <div class="flex justify-between items-center group-hover:translate-x-1 transition-transform">
                    <span class="text-sm opacity-80">Engine Fault Tracing</span>
                    <button class="add-btn btn-neon w-8 h-8 rounded-lg" data-name="Engine Fault" data-price="70">+</button>
                </div>
                <div class="flex justify-between items-center group-hover:translate-x-1 transition-transform">
                    <span class="text-sm opacity-80">Electrical Repair</span>
                    <button class="add-btn btn-neon w-8 h-8 rounded-lg" data-name="Electrical" data-price="65">+</button>
                </div>
            </div>
        </div>

        <div class="glass p-6 rounded-2xl border-l-2 border-[#CCFF00]/30 hover:border-[#CCFF00] transition-all group">
            <h3 class="text-lg font-black uppercase mb-4 neon-lime">Common Repairs</h3>
            <div class="space-y-4">
                <div class="flex justify-between items-center group-hover:translate-x-1 transition-transform">
                    <span class="text-sm opacity-80">Brake Pad Fitment</span>
                    <button class="add-btn btn-neon w-8 h-8 rounded-lg" data-name="Brake Pads" data-price="80">+</button>
                </div>
                <div class="flex justify-between items-center group-hover:translate-x-1 transition-transform">
                    <span class="text-sm opacity-80">Battery Replacement</span>
                    <button class="add-btn btn-neon w-8 h-8 rounded-lg" data-name="Battery Fit" data-price="45">+</button>
                </div>
                <div class="flex justify-between items-center group-hover:translate-x-1 transition-transform">
                    <span class="text-sm opacity-80">Alternator Repair</span>
                    <button class="add-btn btn-neon w-8 h-8 rounded-lg" data-name="Alternator" data-price="120">+</button>
                </div>
            </div>
        </div>

        <div class="glass p-6 rounded-2xl border-l-2 border-[#CCFF00]/30 hover:border-[#CCFF00] transition-all group">
            <h3 class="text-lg font-black uppercase mb-4 neon-lime">Roadside</h3>
            <div class="space-y-4">
                <div class="flex justify-between items-center group-hover:translate-x-1 transition-transform">
                    <span class="text-sm opacity-80">Emergency Jumpstart</span>
                    <button class="add-btn btn-neon w-8 h-8 rounded-lg" data-name="Jumpstart" data-price="35">+</button>
                </div>
                <div class="flex justify-between items-center group-hover:translate-x-1 transition-transform">
                    <span class="text-sm opacity-80">Lockout Recovery</span>
                    <button class="add-btn btn-neon w-8 h-8 rounded-lg" data-name="Lockout" data-price="50">+</button>
                </div>
                <div class="flex justify-between items-center group-hover:translate-x-1 transition-transform">
                    <span class="text-sm opacity-80">Fuel Drain (Wrong Fuel)</span>
                    <button class="add-btn btn-neon w-8 h-8 rounded-lg" data-name="Fuel Drain" data-price="140">+</button>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Shopping Cart Sidebar -->
<div id="cart-slide" class="flex flex-col">
    <div class="p-6 border-b border-white/10 flex justify-between items-center">
        <h3 class="text-xl font-black uppercase italic">Job <span class="neon-lime">List</span></h3>
        <button id="cart-close" class="text-white/40 hover:text-white font-bold">CLOSE</button>
    </div>

    <!-- Vehicle Selector -->
    <div class="p-6 bg-white/5">
        <p class="text-[10px] uppercase font-bold tracking-widest opacity-50 mb-3">Rate Multiplier</p>
        <div class="flex gap-2">
            <div class="vehicle-btn active" onclick="setVehicle('standard', 1, this)">Standard</div>
            <div class="vehicle-btn" onclick="setVehicle('prestige', 1.25, this)">Prestige</div>
            <div class="vehicle-btn" onclick="setVehicle('van', 1.15, this)">Van</div>
        </div>
        <p id="multiplier-note" class="text-[9px] mt-2 text-white/40 italic">*Prestige +25%, Van +15% for heavy-duty components.</p>
    </div>

    <!-- Cart Items -->
    <div id="cart-items" class="flex-1 overflow-y-auto p-6 space-y-4">
        <!-- Items inject here -->
    </div>

    <!-- Footer / Checkout -->
    <div class="p-6 border-t border-white/10 bg-black/40">
        <div class="flex justify-between items-center mb-6">
            <span class="text-white/40 font-bold uppercase text-xs">Estimated Total</span>
            <span id="cart-total" class="text-2xl font-black neon-lime">£0</span>
        </div>
        <button onclick="requestBooking()" class="w-full btn-neon py-4 rounded-xl uppercase tracking-tighter">Request Booking via WhatsApp</button>
    </div>
</div>

<script>
    // State
    let cart = [];
    let currentMultiplier = 1;
    let currentVehicle = 'standard';
    const medwayPostcodes = ['ME1', 'ME2', 'ME3', 'ME4', 'ME5', 'ME6', 'ME7', 'ME8'];

    // UI Elements
    const cartSlide = document.getElementById('cart-slide');
    const cartItems = document.getElementById('cart-items');
    const cartTotal = document.getElementById('cart-total');
    const cartBadge = document.getElementById('cart-count-badge');

    // 1. Service Area Checker
    function checkArea() {
        const input = document.getElementById('postcode-input').value.toUpperCase().trim();
        const status = document.getElementById('area-status');
        
        const isCovered = medwayPostcodes.some(pc => input.startsWith(pc));
        
        if(isCovered) {
            status.innerText = "✓ UNIT DEPLOYABLE TO YOUR LOCATION";
            status.className = "text-sm font-bold mb-8 text-[#CCFF00]";
        } else {
            status.innerText = "✕ OUTSIDE IMMEDIATE ZONE (CONTACT FOR QUOTE)";
            status.className = "text-sm font-bold mb-8 text-red-500";
        }
    }

    // 2. Cart Toggle
    document.getElementById('cart-btn-nav').addEventListener('click', () => cartSlide.classList.add('open'));
    document.getElementById('cart-close').addEventListener('click', () => cartSlide.classList.remove('open'));

    // 3. Vehicle Type Selection
    function setVehicle(type, multiplier, el) {
        currentVehicle = type;
        currentMultiplier = multiplier;
        
        document.querySelectorAll('.vehicle-btn').forEach(btn => btn.classList.remove('active'));
        el.classList.add('active');
        
        // Recalculate existing items if needed or just apply to new ones? 
        // We'll apply it to the whole current booking.
        renderCart();
    }

    // 4. Adding Items
    document.querySelectorAll('.add-btn').forEach(btn => {
        btn.addEventListener('click', () => {
            const name = btn.dataset.name;
            const price = parseFloat(btn.dataset.price);
            
            cart.push({ name, basePrice: price });
            renderCart();
            cartSlide.classList.add('open');
        });
    });

    // 5. Render Cart
    function renderCart() {
        cartItems.innerHTML = '';
        let total = 0;

        if(cart.length === 0) {
            cartItems.innerHTML = '<p class="text-white/20 text-center py-10 uppercase text-xs tracking-widest">No services selected</p>';
        }

        cart.forEach((item, index) => {
            const finalPrice = Math.round(item.basePrice * currentMultiplier);
            total += finalPrice;

            const div = document.createElement('div');
            div.className = "glass p-4 rounded-xl flex justify-between items-center";
            div.innerHTML = `
                <div>
                    <p class="text-sm font-bold">${item.name}</p>
                    <p class="text-[10px] uppercase text-white/40">${currentVehicle} Rate</p>
                </div>
                <div class="flex items-center gap-4">
                    <span class="font-black">£${finalPrice}</span>
                    <button onclick="removeItem(${index})" class="text-red-500 text-xs">✕</button>
                </div>
            `;
            cartItems.appendChild(div);
        });

        cartTotal.innerText = `£${total}`;
        cartBadge.innerText = cart.length;
    }

    function removeItem(index) {
        cart.splice(index, 1);
        renderCart();
    }

    // 6. WhatsApp Booking Dispatch
    function requestBooking() {
        if(cart.length === 0) return alert("Please select a service first.");

        let total = 0;
        let summary = `*NEW BOOKING REQUEST*%0A------------------%0A*Vehicle Type:* ${currentVehicle.toUpperCase()}%0A%0A*Services:*%0A`;
        
        cart.forEach(item => {
            const price = Math.round(item.basePrice * currentMultiplier);
            summary += `- ${item.name}: £${price}%0a`;
            total += price;
        });

        summary += `%0a*Total Estimated: £${total}*%0A------------------
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SOS Mechanics â€“ Mobile Mechanic Report & Call-Out</title>

<style>
:root {
  --green: #39ff14;
  --purple: #9b59b6;
  --bg: #0e0e0e;
  --card: #161616;
  --text: #ffffff;
  --muted: #aaaaaa;
}

* {
  box-sizing: border-box;
}

body {
  margin: 0;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
  background: var(--bg);
  color: var(--text);
  overflow-x: hidden;
}

/* ===== FIXED HEADER + TICKER ===== */
header {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  background: #000;
  z-index: 1000;
}

.header-inner {
  padding: 14px;
  text-align: center;
  font-weight: 700;
}

.ticker {
  background: #111;
  font-size: 0.85rem;
  white-space: nowrap;
  overflow: hidden;
}

.ticker span {
  display: inline-block;
  padding-left: 100%;
  animation: ticker 18s linear infinite;
}

@keyframes ticker {
  from { transform: translateX(0); }
  to { transform: translateX(-100%); }
}

/* ===== MAIN CONTAINER ===== */
.container {
  width: 100%;
  max-width: 720px;
  margin: 0 auto;
  padding: 170px 16px 40px;
}

/* ===== INTRO OVERLAY ===== */
#intro {
  text-align: center;
  margin-bottom: 24px;
}

#intro h1 {
  margin-bottom: 8px;
}

#countdown {
  color: var(--muted);
  font-size: 0.9rem;
}

/* ===== CHOICE BUTTONS ===== */
.choice-buttons {
  display: flex;
  flex-direction: column;
  gap: 12px;
  margin: 24px 0;
}

button {
  width: 100%;
  padding: 14px;
  font-size: 1rem;
  border-radius: 10px;
  border: none;
  cursor: pointer;
  font-weight: 700;
}

/* Emergency â€“ green neon */
#urgentBtn {
  background: var(--green);
  color: #000;
  animation: pulseGreen 1.5s infinite;
}

@keyframes pulseGreen {
  0% { box-shadow: 0 0 6px var(--green); }
  50% { box-shadow: 0 0 18px var(--green); }
  100% { box-shadow: 0 0 6px var(--green); }
}

/* Prebook â€“ purple neon */
#prebookBtn {
  background: var(--purple);
  color: #fff;
  animation: pulsePurple 1.5s infinite;
}

@keyframes pulsePurple {
  0% { box-shadow: 0 0 6px var(--purple); }
  50% { box-shadow: 0 0 18px var(--purple); }
  100% { box-shadow: 0 0 6px var(--purple); }
}

/* ===== FORM ===== */
form {
  display: none;
  background: var(--card);
  padding: 16px;
  border-radius: 14px;
  margin-top: 16px;
}

form input,
form select {
  width: 100%;
  padding: 12px;
  margin-bottom: 12px;
  border-radius: 8px;
  border: none;
  font-size: 1rem;
}

.helper {
  font-size: 0.85rem;
  color: var(--muted);
  margin-bottom: 12px;
}

/* ===== CHAT BUTTON ===== */
#chatBtn {
  display: none;
  margin-top: 16px;
  background: var(--green);
  color: #000;
  animation: flash 1.2s infinite;
}

@keyframes flash {
  0%,100% { opacity: 1; }
  50% { opacity: 0.6; }
}
</style>
</head>

<body>

<header>
  <div class="header-inner">SOS Mechanics</div>
  <div class="ticker">
    <span>Live mobile mechanic â€¢ On-job reports â€¢ Same-day call-outs â€¢ Kent & surrounding areas â€¢</span>
  </div>
</header>

<div class="container">

  <!-- INTRO -->
  <div id="intro">
    <h1>Welcome to SOS Mechanics</h1>
    <div id="countdown">Preparing secure service intakeâ€¦ 10</div>
  </div>

  <!-- CHOICE -->
  <div class="choice-buttons">
    <button id="urgentBtn">ðŸš¨ Emergency / Urgent</button>
    <button id="prebookBtn">ðŸ“… Book a Service</button>
  </div>

  <!-- FORM -->
  <form id="serviceForm">
    <input type="text" id="name" placeholder="Full name" required>
    <input type="tel" id="phone" placeholder="Phone number" required>
    <input type="text" id="reg" placeholder="Vehicle registration" required>

    <select id="service">
      <option value="">Select service required</option>
      <option>Diagnostics</option>
      <option>Breakdown recovery</option>
      <option>Oil / fluid check</option>
      <option>Inspection report</option>
    </select>

    <div id="prebookFields" style="display:none;">
      <div class="helper">Preferred booking date & time</div>
      <input type="datetime-local" id="datetime">
    </div>

    <div class="helper">
      We aim to call you within 15 minutes to confirm the call-out.
    </div>
  </form>

  <button id="chatBtn">ðŸ’¬ Chat to a Mechanic</button>

</div>

<script>
let countdown = 10;
const cdEl = document.getElementById("countdown");
const form = document.getElementById("serviceForm");
const chatBtn = document.getElementById("chatBtn");
const prebookFields = document.getElementById("prebookFields");
let mode = "";
const source = "QR";

const timer = setInterval(() => {
  countdown--;
  cdEl.textContent = "Preparing secure service intakeâ€¦ " + countdown;
  if (countdown <= 0) {
    clearInterval(timer);
    cdEl.textContent = "Please choose how youâ€™d like to continue";
  }
}, 1000);

document.getElementById("urgentBtn").onclick = () => {
  mode = "Urgent";
  form.style.display = "block";
  prebookFields.style.display = "none";
  focusForm();
};

document.getElementById("prebookBtn").onclick = () => {
  mode = "Prebook";
  form.style.display = "block";
  prebookFields.style.display = "block";
  focusForm();
};

function focusForm() {
  setTimeout(() => {
    document.getElementById("name").focus();
    window.scrollTo({ top: document.body.scrollHeight, behavior: "smooth" });
  }, 300);
}

form.addEventListener("input", () => {
  if (form.checkValidity()) {
    chatBtn.style.display = "block";
  }
});

chatBtn.onclick = () => {
  const msg =
`SOS Mechanics enquiry
Type: ${mode}
Name: ${name.value}
Phone: ${phone.value}
Reg: ${reg.value}
Service: ${service.value || "N/A"}
Date/Time: ${datetime?.value || "ASAP"}
Source: ${source}`;

  const url = "https://bit.ly/3LSGcQ4" + "?text=" + encodeURIComponent(msg);
  window.open(url, "_blank");
};
</script>

</body>
</html>